package XML;

import java.io.IOException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.SAXException;

public class XMLParserConfig {
   
    public XMLParserConfig(){
        
        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
        try {
            DocumentBuilder builder = factory.newDocumentBuilder();
            Document doc = builder.parse("C:\\Users\\Kattia Ramirez\\Documents\\NetBeansProjects\\SpiderSearchEngine\\src\\XML\\Configuracion.xml");
            NodeList spider = doc.getElementsByTagName("links");
            
            for (int i=0; i<spider.getLength();i++){
                Node t = spider.item(i);
                if(t.getNodeType()==Node.ELEMENT_NODE){
                    Element caracteristicas = (Element)t;
                    String id = caracteristicas.getAttribute("id");
                    NodeList car = caracteristicas.getChildNodes();
                    for (int j = 0; j<car.getLength();j++){
                        Node n = car.item(j);
                        if(n.getNodeType()==Node.ELEMENT_NODE){
                            Element maxThreads= (Element) n;
                            Element recursivity= (Element) n;
                            Element reindex= (Element) n;
                            
                            System.out.println("Caracteristicas "+ id + ":" + maxThreads.getTagName()+ "="+ maxThreads.getTextContent());
                            System.out.println("Caracteristicas "+ id + ":" + recursivity.getTagName()+ "="+ recursivity.getTextContent());
                            System.out.println("Caracteristicas "+ id + ":" + reindex.getTagName()+ "="+ reindex.getTextContent());
                        }
                    }
                }
            }
        } catch (ParserConfigurationException ex) {
            Logger.getLogger(XMLParserLinks.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SAXException ex) {
            Logger.getLogger(XMLParserLinks.class.getName()).log(Level.SEVERE, null, ex);
        } catch (IOException ex) {
            Logger.getLogger(XMLParserLinks.class.getName()).log(Level.SEVERE, null, ex);
        }
        
        
    }
}
